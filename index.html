<!DOCTYPE html>
<html>
    <head>
        <title>Ro Sham Beaux</title>
    </head>
    <body>
        
    </body>

    <script>
        const choices = ['rock', 'paper', 'scissors']
        let score = {player: 0, cpu: 0 , rounds: 1};
       
        

/// Part 3. -- Computer Selection        
            function computerPlay() {
            let getRandom = Math.floor(Math.random() * choices.length)
            return choices[getRandom]
        }

/// Part 4. -- Single Round
   
    /// A Single Round is Played
        function playRound(playerSelection, computerSelection) {
            playerSelection = prompt("Please enter 'rock', 'paper', or 'scissors': ").toLowerCase();
                if (playerSelection !== 'rock' && playerSelection !== 'scissors' && playerSelection !== 'paper')
                { return playRound();
                } else if (playerSelection === undefined || playerSelection === null) 
                { return playRound();
            }
            computerSelection = computerPlay();
                console.log(`You selected: "${playerSelection}"`);
                console.log(`Computer selected: "${computerSelection}"`);
                
            ///Functions defining what happens at each outcome
                        function youTie() {
                            score.round += 1;
                            console.log("Tie! Double " + playerSelection + "s! Go again!");
                            return game();
                        }

                        function youWin() {
                            score.player += 1;
                            score.round += 1;
                            console.log("You win! " + playerSelection + " beats " + computerSelection + "!")
                            return game();
                        }

                        function youLose() {
                            score.cpu += 1;
                            score.round += 1;
                            console.log("You lose! " + computerSelection + " beats " + playerSelection + "!")
                            return game();
                        }

        ///The condintionals determining playRound() outcomes
            if (playerSelection === computerSelection) {
                youTie();
            } else if (playerSelection === 'rock') {
                    if (computerSelection === 'scissors') {
                        youWin();
                 } else {
                        youLose();
                    }
            } else if (playerSelection === 'paper') {
                    if (computerSelection === 'rock') {
                        youWin();
                    } else {
                        youLose();
                    }
            } else if (playerSelection === 'scissors') {
                    if (computerSelection === 'paper') {
                        youWin();
                    } else {
                        youLose();
                    }
            }
        }

    /// Reset and Endgame functions
            function reset() {
                    let score = { player: 0, cpu: 0, rounds: 1};
            }
                
            function endGame() {
                if (score.player === 5) {
                    console.log("YOU WIN!!! Your kind shall be suffered to survive, for now...")
                } else if (score.cpu === 5) {
                    console.log("LOSER! Truely the machines shall inherit the earth, mortal fool!")
                }
                console.log("Play again?")        
            }

/// The shell of the game itself    
    function game() {
        console.log("Round: " + score.rounds + " Human: " + score.player + "; Machine: " + score.cpu)
        if (score.player === 5 || score.cpu === 5) {
            endGame();
         } else {
             playRound();
         }
    }
        
    </script>
</html>